# System Resource Limits
kernel.threads-max = 127270                   # Maximum number of threads
kernel.nmi_watchdog = 0                       # Disable NMI watchdog for better performance
vm.max_map_count = 262144                     # Maximum number of memory map areas

# Performance Tuning
kernel.sched_autogroup_enabled = 1            # Enable automatic process group scheduling
kernel.sched_migration_cost_ns = 5000000      # Increase migration cost to reduce task migration
kernel.sched_min_granularity_ns = 10000000    # Minimum time slice for CPU-bound tasks

# System-wide Limits
kernel.msgmax = 65536                         # Maximum size of messages in message queues
kernel.msgmnb = 65536                         # Maximum size of message queue
kernel.sem = 250 32000 100 128                # Semaphore limits (SEMMSL SEMMNS SEMOPM SEMMNI)

